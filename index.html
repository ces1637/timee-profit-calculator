<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¿ã‚¤ãƒŸãƒ¼åç›Šåˆ†æãƒ„ãƒ¼ãƒ«</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .calculator {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 500px;
            width: 100%;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 18px;
            color: #667eea;
            margin-bottom: 15px;
            font-weight: 600;
            border-left: 4px solid #667eea;
            padding-left: 10px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-size: 14px;
            font-weight: 500;
        }

        input[type="radio"] {
            width: auto;
            margin-right: 8px;
        }

        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
        }

        .results {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 12px;
            padding: 20px;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 15px;
        }

        .result-label {
            color: #555;
            flex: 1;
        }

        .result-value {
            font-weight: 600;
            color: #333;
            text-align: right;
            min-width: 120px;
        }

        .result-row.total {
            border-top: 2px solid #667eea;
            padding-top: 12px;
            margin-top: 12px;
            font-size: 18px;
        }

        .result-row.total .result-label {
            color: #667eea;
            font-weight: 700;
        }

        .result-row.total .result-value {
            color: #667eea;
            font-size: 22px;
        }

        .note {
            margin-top: 20px;
            padding: 15px;
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            border-radius: 4px;
            font-size: 13px;
            color: #856404;
        }

        .note-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        @media (max-width: 600px) {
            .calculator {
                padding: 30px 20px;
            }

            h1 {
                font-size: 24px;
            }

            .result-value {
                min-width: 100px;
            }
        }
    </style>
</head>
<body>
    <div class="calculator">
        <h1>ğŸ’¼ ã‚¿ã‚¤ãƒŸãƒ¼åç›Šåˆ†æãƒ„ãƒ¼ãƒ«</h1>
        <p class="subtitle">çµŒè²»ãƒ»åç›Šãƒ»ç”Ÿç”£æ€§ã‚’ç·åˆçš„ã«åˆ†æ</p>

        <div class="section">
            <div class="section-title">åŠ´åƒæ¡ä»¶</div>
            
            <div class="input-group">
                <label for="hourlyWage">æ™‚çµ¦ï¼ˆå††ï¼‰</label>
                <input type="number" id="hourlyWage" value="1200" min="0" step="10">
            </div>

            <div class="input-group">
                <label for="workHours">å®Ÿåƒæ™‚é–“ï¼ˆæ™‚é–“ï¼‰</label>
                <input type="number" id="workHours" value="5" min="0" step="0.5">
            </div>

            <div class="input-group">
                <label for="transportation">äº¤é€šè²»ï¼ˆå††ï¼‰</label>
                <input type="number" id="transportation" value="500" min="0" step="10">
            </div>

            <div class="input-group">
                <label for="workers">ãƒ¯ãƒ¼ã‚«ãƒ¼äººæ•°ï¼ˆæœˆå†…åˆå›æŒ¯è¾¼ï¼‰</label>
                <input type="number" id="workers" value="1" min="1" step="1">
            </div>
        </div>

        <div class="section">
            <div class="section-title">å£²ä¸Šè¦‹è¾¼</div>
            
            <div class="input-group">
                <label>
                    <input type="radio" name="revenueType" value="daily" checked> 
                    1æ—¥ã‚ãŸã‚Šã®å£²ä¸Šè¦‹è¾¼
                </label>
                <label style="margin-top: 8px;">
                    <input type="radio" name="revenueType" value="hourly"> 
                    1æ™‚é–“ã‚ãŸã‚Šã®å£²ä¸Šè¦‹è¾¼
                </label>
            </div>

            <div class="input-group">
                <label for="revenue">å£²ä¸Šè¦‹è¾¼ï¼ˆå††ï¼‰</label>
                <input type="number" id="revenue" value="30000" min="0" step="1000">
            </div>
        </div>

        <div class="section">
            <div class="section-title">ã‚¿ã‚¤ãƒŸãƒ¼çµŒè²»</div>
            <div class="results">
                <div class="result-row">
                    <span class="result-label">åŠ´åƒå ±é…¬</span>
                    <span class="result-value" id="laborCost">Â¥0</span>
                </div>
                <div class="result-row">
                    <span class="result-label">ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨æ–™ï¼ˆè³ƒé‡‘éƒ¨åˆ†ã®30%ãƒ»ç¨æŠœï¼‰</span>
                    <span class="result-value" id="serviceFee">Â¥0</span>
                </div>
                <div class="result-row">
                    <span class="result-label">ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨æ–™ã®æ¶ˆè²»ç¨ï¼ˆ10%ï¼‰</span>
                    <span class="result-value" id="consumptionTax">Â¥0</span>
                </div>
                <div class="result-row">
                    <span class="result-label">æŒ¯è¾¼æ‰‹æ•°æ–™ï¼ˆç¨è¾¼220å††Ã—äººæ•°ï¼‰</span>
                    <span class="result-value" id="transferFee">Â¥0</span>
                </div>
                <div class="result-row total">
                    <span class="result-label">ç·çµŒè²»</span>
                    <span class="result-value" id="total">Â¥0</span>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">åç›Šåˆ†æ</div>
            <div class="results" style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);">
                <div class="result-row">
                    <span class="result-label">ç·å£²ä¸Š</span>
                    <span class="result-value" id="totalRevenue">Â¥0</span>
                </div>
                <div class="result-row">
                    <span class="result-label">ç·çµŒè²»</span>
                    <span class="result-value" id="totalCost">Â¥0</span>
                </div>
                <div class="result-row total">
                    <span class="result-label">å–¶æ¥­åˆ©ç›Š</span>
                    <span class="result-value" id="profit">Â¥0</span>
                </div>
                <div class="result-row">
                    <span class="result-label">åˆ©ç›Šç‡</span>
                    <span class="result-value" id="profitRate">0%</span>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">ç”Ÿç”£æ€§æŒ‡æ¨™</div>
            <div class="results" style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);">
                <div class="result-row">
                    <span class="result-label">äººæ™‚ç”Ÿç”£æ€§ï¼ˆå£²ä¸ŠÃ·ç·åŠ´åƒæ™‚é–“ï¼‰</span>
                    <span class="result-value" id="laborProductivity">Â¥0</span>
                </div>
                <div class="result-row">
                    <span class="result-label">äººæ™‚åˆ©ç›Šï¼ˆåˆ©ç›ŠÃ·ç·åŠ´åƒæ™‚é–“ï¼‰</span>
                    <span class="result-value" id="laborProfit">Â¥0</span>
                </div>
                <div class="result-row">
                    <span class="result-label">ç·åŠ´åƒæ™‚é–“</span>
                    <span class="result-value" id="totalHours">0h</span>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">æç›Šåˆ†å²ç‚¹åˆ†æ</div>
            <div class="results" style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);">
                <div class="result-row">
                    <span class="result-label">æç›Šåˆ†å²ç‚¹å£²ä¸Šï¼ˆ1æ—¥ã‚ãŸã‚Šï¼‰</span>
                    <span class="result-value" id="breakEvenDaily">Â¥0</span>
                </div>
                <div class="result-row">
                    <span class="result-label">æç›Šåˆ†å²ç‚¹å£²ä¸Šï¼ˆ1æ™‚é–“ã‚ãŸã‚Šï¼‰</span>
                    <span class="result-value" id="breakEvenHourly">Â¥0</span>
                </div>
                <div class="result-row">
                    <span class="result-label">å¿…è¦å£²ä¸Šé”æˆç‡</span>
                    <span class="result-value" id="achievementRate">0%</span>
                </div>
            </div>
        </div>

        <div class="note">
            <div class="note-title">ğŸ“Œ è¨ˆç®—æ–¹æ³•ã«ã¤ã„ã¦</div>
            <div>
                â€¢ ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨æ–™ã¯<strong>è³ƒé‡‘éƒ¨åˆ†ï¼ˆæ™‚çµ¦Ã—å®Ÿåƒæ™‚é–“ï¼‰ã®ã¿</strong>ã«å¯¾ã—ã¦30%ãŒèª²ã•ã‚Œã¾ã™<br>
                â€¢ äº¤é€šè²»ã¯ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨æ–™ã®è¨ˆç®—å¯¾è±¡å¤–ã§ã™<br>
                â€¢ åˆ¥é€”ã€è«‹æ±‚æ›¸ã®æŒ¯è¾¼æ‰‹æ•°æ–™ï¼ˆä¸‰äº•ä½å‹éŠ€è¡Œå®›ãªã©ï¼‰ãŒç™ºç”Ÿã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™
            </div>
        </div>
    </div>

    <script>
        function formatCurrency(value) {
            return 'Â¥' + Math.round(value).toLocaleString('ja-JP');
        }

        function formatPercent(value) {
            return (value * 100).toFixed(1) + '%';
        }

        function calculate() {
            // å…¥åŠ›å€¤ã®å–å¾—
            const hourlyWage = parseFloat(document.getElementById('hourlyWage').value) || 0;
            const workHours = parseFloat(document.getElementById('workHours').value) || 0;
            const transportation = parseFloat(document.getElementById('transportation').value) || 0;
            const workers = parseInt(document.getElementById('workers').value) || 1;
            const revenueInput = parseFloat(document.getElementById('revenue').value) || 0;
            const revenueType = document.querySelector('input[name="revenueType"]:checked').value;

            // ã‚¿ã‚¤ãƒŸãƒ¼çµŒè²»ã®è¨ˆç®—
            const wagePart = hourlyWage * workHours; // è³ƒé‡‘éƒ¨åˆ†ã®ã¿
            const laborCost = wagePart + transportation; // åŠ´åƒå ±é…¬
            const serviceFee = wagePart * 0.3; // ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨æ–™ã¯è³ƒé‡‘éƒ¨åˆ†ã®ã¿ã«å¯¾ã—ã¦30%
            const consumptionTax = serviceFee * 0.1;
            const transferFee = workers * 220;
            const totalCost = laborCost + serviceFee + consumptionTax + transferFee;

            // å£²ä¸Šã®è¨ˆç®—ï¼ˆ1æ—¥ã‚ãŸã‚Šor1æ™‚é–“ã‚ãŸã‚Šã‚’ç·å£²ä¸Šã«å¤‰æ›ï¼‰
            let totalRevenue;
            if (revenueType === 'daily') {
                totalRevenue = revenueInput;
            } else { // hourly
                totalRevenue = revenueInput * workHours;
            }

            // åç›Šåˆ†æ
            const profit = totalRevenue - totalCost;
            const profitRate = totalRevenue > 0 ? profit / totalRevenue : 0;

            // ç”Ÿç”£æ€§æŒ‡æ¨™
            const totalHours = workHours * workers;
            const laborProductivity = totalHours > 0 ? totalRevenue / totalHours : 0;
            const laborProfit = totalHours > 0 ? profit / totalHours : 0;

            // æç›Šåˆ†å²ç‚¹åˆ†æ
            const breakEvenDaily = totalCost;
            const breakEvenHourly = workHours > 0 ? totalCost / workHours : 0;
            const achievementRate = breakEvenDaily > 0 ? totalRevenue / breakEvenDaily : 0;

            // ã‚¿ã‚¤ãƒŸãƒ¼çµŒè²»ã®è¡¨ç¤º
            document.getElementById('laborCost').textContent = formatCurrency(laborCost);
            document.getElementById('serviceFee').textContent = formatCurrency(serviceFee);
            document.getElementById('consumptionTax').textContent = formatCurrency(consumptionTax);
            document.getElementById('transferFee').textContent = formatCurrency(transferFee);
            document.getElementById('total').textContent = formatCurrency(totalCost);

            // åç›Šåˆ†æã®è¡¨ç¤º
            document.getElementById('totalRevenue').textContent = formatCurrency(totalRevenue);
            document.getElementById('totalCost').textContent = formatCurrency(totalCost);
            document.getElementById('profit').textContent = formatCurrency(profit);
            document.getElementById('profitRate').textContent = formatPercent(profitRate);

            // åˆ©ç›ŠãŒãƒã‚¤ãƒŠã‚¹ã®å ´åˆã¯èµ¤è‰²ã§è¡¨ç¤º
            const profitElement = document.getElementById('profit');
            if (profit < 0) {
                profitElement.style.color = '#d32f2f';
            } else {
                profitElement.style.color = '#2e7d32';
            }

            // ç”Ÿç”£æ€§æŒ‡æ¨™ã®è¡¨ç¤º
            document.getElementById('laborProductivity').textContent = formatCurrency(laborProductivity) + '/h';
            document.getElementById('laborProfit').textContent = formatCurrency(laborProfit) + '/h';
            document.getElementById('totalHours').textContent = totalHours.toFixed(1) + 'h';

            // æç›Šåˆ†å²ç‚¹ã®è¡¨ç¤º
            document.getElementById('breakEvenDaily').textContent = formatCurrency(breakEvenDaily);
            document.getElementById('breakEvenHourly').textContent = formatCurrency(breakEvenHourly) + '/h';
            document.getElementById('achievementRate').textContent = formatPercent(achievementRate);

            // é”æˆç‡ãŒ100%æœªæº€ã®å ´åˆã¯è­¦å‘Šè‰²ã§è¡¨ç¤º
            const achievementElement = document.getElementById('achievementRate');
            if (achievementRate < 1) {
                achievementElement.style.color = '#d32f2f';
            } else {
                achievementElement.style.color = '#2e7d32';
            }
        }

        // åˆæœŸè¨ˆç®—
        calculate();

        // å…¥åŠ›å€¤ã®å¤‰æ›´æ™‚ã«å†è¨ˆç®—
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('input', calculate);
            input.addEventListener('change', calculate);
        });
    </script>
</body>
</html>
